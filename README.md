# ⚾ 野球打球・投球分析ダッシュボード

NPBの打者別打球分布と投球コースを可視化するStreamlitアプリケーションです。

## 📋 機能

1. **打球分布図（Spray Chart）**
   - 選択した打者のヒット（単打、二塁打、三塁打、本塁打）を球場図上にプロット
   - マウスオーバーで試合ID、結果、投手、球種を表示
   - 安打種類ごとに色とシンボルで区別

2. **投球コース分布**
   - 打者に対する投球コースをストライクゾーン上にプロット
   - 直球系と変化球を異なるシンボル・色で区別
   - マウスオーバーで試合ID、球種、結果、球速を表示

## 🚀 インストールと実行

### 必要条件
- Python 3.9以上
- pip

### セットアップ

```bash
# リポジトリをクローン（またはファイルをダウンロード）
cd baseball_app

# 依存パッケージをインストール
pip install -r requirements.txt

# アプリを起動
streamlit run app.py
```

### ブラウザで開く
アプリが起動すると、自動的にブラウザが開きます。
手動で開く場合は `http://localhost:8501` にアクセスしてください。

## 📁 ファイル構成

```
baseball_app/
├── app.py              # メインアプリケーション
├── requirements.txt    # 依存パッケージ
├── 2025_gamelog.csv    # データファイル
├── ballpark.png        # 球場背景画像
└── README.md           # このファイル
```

## 🎯 使い方

1. 左サイドバーから**打者を選択**
2. **「打球分布図」タブ**で打球結果を確認
3. **「投球コース分布」タブ**で投球コースを確認
4. グラフ上にマウスを乗せると**詳細情報が表示**されます
5. サイドバーの**球種フィルター**で表示する球種を絞り込めます

## 📊 データ形式

`2025_gamelog.csv`には以下のカラムが必要です：
- `gameID`: 試合ID
- `BatterName`: 打者名
- `PitcherName_x`: 投手名
- `PitchType`: 球種
- `Velocity`: 球速
- `LocationX`, `LocationY`: 投球位置
- `Direction`, `Depth`: 打球方向と深さ
- `AtBatResult`: 打席結果

## 🔧 カスタマイズ

### 新しいデータの追加
`2025_gamelog.csv`を同じフォーマットで更新することで、新しいデータを反映できます。

### 背景画像の変更
`ballpark.png`を任意の球場画像に置き換えることができます。
画像サイズは576x576ピクセルを推奨します。

## 📝 ライセンス

このプロジェクトは教育・個人利用を目的としています。
